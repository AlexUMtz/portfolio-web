<form
  id='contact-form'
  action=''
  class='scroll-reveal-x flex flex-col p-4 gap-y-4 w-full bg-blueDark border-2 border-enfasys rounded-md'
>
  <input
    class='bg-blueDark/60 border-2 border-enfasys text-white tracking-wider rounded-md p-2 placeholder:text-gray-300 placeholder:tracking-normal'
    type='text'
    name='name'
    id='name'
    placeholder='Nombre'
    required
  />
  <input
    class='bg-blueDark/60 border-2 border-enfasys text-white tracking-wider rounded-md p-2 placeholder:text-gray-300 placeholder:tracking-normal'
    type='text'
    name='subject'
    id='subject'
    placeholder='Asunto'
    required
  />
  <input
    class='bg-blueDark/60 border-2 border-enfasys text-white tracking-wider rounded-md p-2 placeholder:text-gray-300 placeholder:tracking-normal'
    type='email'
    name='email'
    id='email'
    placeholder='Correo electrÃ³nico'
    required
  />
  <textarea
    name='message'
    id='message'
    class='h-[250px] md:h-full resize-none bg-blueDark/60 border-2 border-enfasys text-white tracking-wider rounded-md p-2 placeholder:text-gray-300 placeholder:tracking-normal'
    placeholder='Mensaje'
    required></textarea>
  <input
    type='submit'
    value='Enviar'
    class='cursor-pointer bg-enfasys/60 hover:opacity-80 text-white font-semibold rounded-md p-3'
  />
</form>
<script>
  import emailjs from 'emailjs-com';

  const form = document.getElementById('contact-form') as HTMLFormElement;

  const sendEmail = () => {
    let params = {
      name: (document.getElementById('name') as HTMLInputElement)?.value,
      subject: (document.getElementById('subject') as HTMLInputElement)?.value,
      email: (document.getElementById('email') as HTMLInputElement)?.value,
      message: (document.getElementById('message') as HTMLInputElement)?.value,
    };

    const serviceID = 'service_siv7ypj';
    const templateID = 'template_65pipn7';

    emailjs
      .send(serviceID, templateID, params)
      .then((res) => {
        console.log(res);

        form?.reset();

        alert('Mensaje enviado exitosamente');
      })
      .catch((err) => {
        console.log(err);
      });
  };

  document.addEventListener('submit', (e) => {
    e.preventDefault();

    sendEmail();
  });
</script>
